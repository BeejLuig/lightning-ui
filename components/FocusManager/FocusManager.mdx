import { Preview, Story } from '@storybook/addon-docs/blocks'

# FocusManager

In Lightning, focus must be explicitly set on an element and managed manually. `FocusManager` is a utility component that simplifies focus for elements in a list.

## Usage

Within a parent component `_template()` function, define a child of type `FocusManager` and in `_getFocused()` return that child component 

```js
import FocusManager from './FocusManager';

class RowExample extends lng.Component {
  static _template() {
    return {
      Row: {
        type: FocusManager,
        direction: 'row',
        children: [
          // components to be managed
        ]
      }
    };
  }
  
  _getFocused() {
      return this.tag('Row');
  }
};
```

<Preview>
  <Story id="focusmanager--rows" />
</Preview>

Set the `direction` property to `row` for left/right or `column` for up/down key handling.

```js
{
  type: FocusManager,
  direction: 'column',
  children: [/* ... */]
}
```

<Preview>
  <Story id="focusmanager--columns" />
</Preview>

## Extending FocusManager

You can create a component that extends the capabilities of `FocusManager` and responds to changes in focus. Just create a `render()` instance method.

```js
import lng from 'wpe-lightning';
import FocusManager from './FocusManager';

class FancyFocus extends FocusManager {
  render() {
    // do something with selected item
    this.selected.patch({
      texture: lng.Tools.getRoundRect(150, 40, 4, 3, 0xffff00ff, true, 0xff00ffff)
    });
  }
}
```

<Preview>
  <Story id="focusmanager--extended-component" />
</Preview>

## Properties

name|type|readonly|description
--|--|--|--
direction|'column'\|'row'|false|determines whether focus handling responds to left/right or up/down keys
selected|`lng.Component`|true|current item in focus
selectedIndex|number|false|index of current item in focus
loading|boolean|true|False if an item is in focus, true otherwise
items|`lng.Component`[]|false|alias for `children`
